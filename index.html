
<!DOCTYPE html>
<html lang="pl">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Kalkulator wydajności</title>
  <style>
    @import url('https://fonts.googleapis.com/css2?family=Orbitron:wght@400;700&display=swap');

    body {
      background: linear-gradient(145deg, #1a1a1a, #2b2b2b);
      color: #ffffff;
      font-family: 'Orbitron', sans-serif;
      padding: 20px;
      max-width: 500px;
      margin: auto;
      box-shadow: 0 0 30px rgba(0, 255, 195, 0.1);
      border-radius: 20px;
    }

    h1 {
      text-align: center;
      margin-bottom: 20px;
      color: #00ffc3;
      text-shadow: 2px 2px 10px #00ffc360;
      font-size: 26px;
      letter-spacing: 1px;
    }

    label {
      font-weight: bold;
      display: block;
      margin-top: 15px;
      color: #9efff4;
    }

    input[type="number"],
    input[type="tel"] {
      width: 100%;
      padding: 12px;
      margin-top: 5px;
      border: none;
      border-radius: 10px;
      background-color: #333;
      color: #fff;
      font-size: 16px;
      box-shadow: inset 0 0 5px #000;
    }

    button {
      width: 100%;
      padding: 14px;
      margin-top: 20px;
      background: linear-gradient(90deg, #00ffc3, #00bfa5);
      color: #000;
      font-weight: bold;
      font-size: 16px;
      border: none;
      border-radius: 10px;
      cursor: pointer;
      box-shadow: 0 0 10px #00ffc3aa;
      transition: all 0.3s ease;
    }

    button:hover {
      transform: scale(1.03);
      box-shadow: 0 0 20px #00ffc3;
    }

    .result {
      background-color: #111;
      border: 1px solid #00ffc3;
      border-radius: 10px;
      padding: 18px;
      margin-top: 20px;
      font-size: 18px;
      text-align: center;
      box-shadow: 0 0 15px rgba(0, 255, 195, 0.3);
      white-space: pre-line;
    }

    #legenda {
      margin-top: 30px;
      background-color: #191919;
      padding: 20px;
      border-radius: 12px;
      border-left: 6px solid #00ffc3;
      box-shadow: inset 0 0 10px #00ffc340;
    }

    #legenda h3 {
      margin-top: 0;
      color: #00ffc3;
      font-size: 20px;
    }

    ul {
      margin: 0;
      padding-left: 20px;
    }

    .info-section {
      margin-top: 40px;
      padding: 20px;
      background-color: #121212;
      border-left: 4px solid #00bfff;
      border-radius: 12px;
      white-space: pre-wrap;
    }

    .info-section h3 {
      color: #00bfff;
      font-size: 18px;
      font-weight: bold;
      margin-bottom: 10px;
    }
  </style>
</head>
<body>
  <h1>Kalkulator wydajności</h1>

  <label for="osoby">Ilość osób:</label>
  <input type="number" id="osoby" min="1" value="1" onchange="generateGodziny()" />

  <div id="godziny-container"></div>

  <label for="stropy">Metry stropów łącznie:</label>
  <input type="tel" id="stropy" placeholder="np. 2,5+3,1+4,0" />

  <label for="dachy">Metry dachów łącznie:</label>
  <input type="tel" id="dachy" placeholder="np. 5+2,6+4,4" />

  <button onclick="obliczWydajnosc()">Oblicz wydajność</button>

  <div class="result" id="wynik"></div>

  <div id="legenda">
    <h3>LEGENDA</h3>
    <p>Metry brane pod uwagę:</p>
    <ul>
      <li>stropy – 14.75 m² na osobę na 8h</li>
      <li>dachy – 15 m² na osobę na 8h</li>
    </ul>
    <p>Okno dachowe = + 2,60 m²</p>
  </div>

  <div class="info-section">
    <h3>------Piętro i kolory góra dół-----</h3>
    W piętrze obracać szerokie frezy do dołu (wyblakłe), niebieski to z góry. 
    Mocny brąz cięcie z góry.
    Mocny niebieski cięcie z góry.
    Jasne wszystko z dołu (frez)<----(tak robić w miarę możliwości!!!!) 
    Skosy jasnym do góry

    <h3>USUWAĆ STANDARDOWE BELKI \/</h3>
    60x80x2570
    80×80×2570
    60×120x2540
    90x120x2540
    100×120×2540
    60x180x2540
    90x180x2540
    100x180x2540 
    USUWAĆ STANDARDOWE BELKI /
    <h3>-----CIĘCIE ŁAT-----</h3>
    piła w tył, nie inaczej
    POD MASZYNA (OPCJE-KOLO ZĘBATE)
    DRUKARKA: LICZBA ETYKIET PRZY
    STOSIE:
    NA STOS 1 ETYKIETA = ŁATY STROPOWE(TYLKO)
    NA ELEMENT KONSTRUKCYJNY: RESZTA

    Łaty:
    Liczba sztuk zadania: ilość lat do docięcia
    Pakiet: numer stropa
    Cięcie piłą w tył: wymiar wzdłużny to długość lat -5mm
    Reszta zostaje

    <h3>---BŁĘDY----</h3>
    Resztka drzewnego nie jest zajęta: podsunąć po lewej stronie do blachy.
    Błąd krańcowego piły? - reset (żółty) i przetwarzanie
    Rolka nie jest zajęta: dopchnąć belkę
    Przy rolce z kołem (żółta dioda z dołu off-dopchnac) reset, cofnąć, puścić i docisnąć
    Piła się kręci, puszczasz start i nie idzie - reset żółty i na nowo start
    Drewno surowe jest za krótkie : dopchnąć do blachy (dojechać przyciskiem)i powinno iść, jeśli nie to reset i jeszcze raz początek
    Rolka pozycjonująca: reset i start
    Czujka rozłącza - wyjechać i obrócić belkę.
  </div>

  <script>
    function generateGodziny() {
      const container = document.getElementById('godziny-container');
      container.innerHTML = '';
      const ilosc = parseInt(document.getElementById('osoby').value);
      for (let i = 0; i < ilosc; i++) {
        const input = document.createElement('input');
        input.type = 'number';
        input.placeholder = 'Godziny osoby ' + (i + 1);
        input.id = 'godzina-' + i;
        input.step = '0.1';
        input.style.marginTop = '10px';
        input.style.width = '100%';
        input.style.borderRadius = '8px';
        input.style.border = 'none';
        input.style.backgroundColor = '#333';
        input.style.color = '#fff';
        input.style.padding = '10px';
        input.style.boxShadow = 'inset 0 0 5px #000';
        container.appendChild(input);
      }
    }

    function parsePolishExpression(expr) {
      try {
        expr = expr.replace(/,/g, '.');
        return Function('"use strict";return (' + expr + ')')();
      } catch {
        return 0;
      }
    }

    function obliczWydajnosc() {
      const ilosc = parseInt(document.getElementById('osoby').value);
      let sumaGodzin = 0;
      for (let i = 0; i < ilosc; i++) {
        const val = parseFloat(document.getElementById('godzina-' + i).value) || 0;
        sumaGodzin += val;
      }

      const stropy = parsePolishExpression(document.getElementById('stropy').value);
      const dachy = parsePolishExpression(document.getElementById('dachy').value);

      const normaStropy = 14.75;
      const normaDachy = 15;

      const wydajnoscStropy = (stropy / normaStropy) / (sumaGodzin / 8) * 100;
      const wydajnoscDachy = (dachy / normaDachy) / (sumaGodzin / 8) * 100;
      const wydajnoscLaczna = wydajnoscStropy + wydajnoscDachy;

      const wynikTekst =
        'Wydajność stropów: ' + wydajnoscStropy.toFixed(2) + '%
' +
        'Wydajność dachów: ' + wydajnoscDachy.toFixed(2) + '%
' +
        'Wydajność łączna: ' + wydajnoscLaczna.toFixed(2) + '%';

      document.getElementById('wynik').innerText = wynikTekst;
    }

    generateGodziny();
  </script>
</body>
</html>
